<!DOCTYPE html>
<html lang="en">
<head>
<script src="js/header.js"></script>
    <title>Oakwood Leisure Centre - Tasks</title>
 </head>
 
 <body>
    <div class="container">
        <header class="my-4">
            <h1 class="text-primary my-3 py-5 border-bottom border-primary">Oakwood Leisure Centre - Tasks</h1>
        </header>
        <section class="my-5 p-4 bg-light shadow rounded pb-5 ">
            <h2 class="text-primary m-3 p-3">Tasks</h2>

            <p>For this you are required to individually:</p>

            <ol>
                <li>Map the network infrastructure of Oakwood Leisure Centre.</li>
                <li>Identify the symptoms and issues affecting the network.</li>
                <li>Investigate the potential causes of the issues.</li>
                <li>Propose solutions to resolve the issues.</li>
                <li>Develop a disaster recovery plan.</li>
                <li>Prepare a report detailing your findings and recommendations.</li>
                <li>Develop a plan to prevent future incidents.</li>         
            </ol>


        </section>
        <section>
            <a href="emma.html" class="btn btn-primary">Emma's Statement</a>
            <a href="jenny.html" class="btn btn-primary">Jenny's Statement</a>
            <a href="marcus.html" class="btn btn-primary">Marcus's Statement</a> 
            <a href="willy.html" class="btn btn-primary">Willy's Statement</a>
        </section>

        <section id="unlock-section" class="my-5 p-4 bg-light shadow rounded pb-5">
            <h2 class="text-primary m-3 p-3">Advanced Tasks Link</h2>
            <input type="password" id="passwordInput" placeholder="Enter password" />
            <button id="passwordBtn" class="btn btn-secondary">Unlock</button>
            <br>
            <a id="secretLink" href="tasks2.html" class="btn btn-success mt-3" style="display: none;">Go to Advanced Tasks</a>
        </section>

        
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="js/navbar.js"></script>
<script>
// Function to compute SHA-256 hash of a string
async function hashString(str) {
    const encoder = new TextEncoder();
    const data = encoder.encode(str);
    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
}

// Precomputed hash for the correct password ("MANAGER-PC1")
const correctHash = "4f61e925de93ac1ac734cc8b311922fa9cb4c6934681ee70e3e991e7b1f171a9";

document.getElementById("passwordBtn").addEventListener("click", async function(){
    const input = document.getElementById("passwordInput").value.trim(); // trim input
    const inputHash = await hashString(input);
    // Debug line - remove this in production
    console.log("Computed hash:", inputHash); 
    if(inputHash === correctHash) {
         sessionStorage.setItem("advancedAccess", "true");
         document.getElementById("secretLink").style.display = "block";
    } else {
         alert("Incorrect password");
    }
});
</script>
</body>
</html>